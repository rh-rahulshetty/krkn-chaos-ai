kubeconfig_file_path: "{{ kubeconfig_file_path }}"

generations: 2
# duration: 600  # Run for 600 seconds (run until time limit is reached, generations will be ignored)
population_size: 2
composition_rate: 0
population_injection_rate: 0

wait_duration: 120

output:
  result_name_fmt: "scenario_%s.yaml"
  graph_name_fmt: "scenario_%s.png"
  log_name_fmt: "scenario_%s.log"


# Elasticsearch configuration for storing run results
elastic:
  enable: false  # Set to true to enable Elasticsearch integration
  verify_certs: true  # Verify SSL certificates
  server: "http://localhost"  # Elasticsearch URL
  port: 9200  # Elasticsearch port
  username: "$ES_USER"  # Elasticsearch username
  password: "$__ES_PASSWORD"  # Elasticsearch password (start param with __ to treat as private)
  index: "krkn-ai-metrics"  # Index name for storing Krkn-AI results


fitness_function: 
  query: 'sum(kube_pod_container_status_restarts_total)'
  type: point
  include_krkn_failure: true
  include_health_check_failure: true
  include_health_check_response_time: true

# health_checks:
#   stop_watcher_on_failure: false
#   applications:
#   - name: cart
#     url: "$HOST/cart/add/1/Watson/1"
#   - name: catalogue
#     url: "$HOST/catalogue/categories"
#   - name: shipping
#     url: "$HOST/shipping/codes"
#   - name: payment
#     url: "$HOST/payment/health"
#   - name: user
#     url: "$HOST/user/uniqueid"
#   - name: ratings
#     url: "$HOST/ratings/api/fetch/Watson"


scenario:
  pod-scenarios:
    enable: true
  application-outages:
    enable: false
  container-scenarios:
    enable: true
  node-cpu-hog:
    enable: true
  node-memory-hog:
    enable: true
  node-io-hog:
    enable: true
  time-scenarios:
    enable: false
  network-scenarios:
    enable: false
  dns-outage:
    enable: true
  syn-flood:
    enable: false
  pvc-scenarios:
    enable: false
  kubevirt-scenarios:
    enable: true

cluster_components:
{{ cluster_components }}